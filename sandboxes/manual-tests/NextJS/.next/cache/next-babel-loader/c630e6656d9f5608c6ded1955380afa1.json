{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime-corejs2/helpers/slicedToArray\");\n\nvar _classCallCheck = require(\"@babel/runtime-corejs2/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime-corejs2/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"@babel/runtime-corejs2/helpers/inherits\");\n\nvar _Map = require(\"@babel/runtime-corejs2/core-js/map\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _url = require(\"url\");\n\nvar _utils = require(\"../next-server/lib/utils\");\n\nvar _router = _interopRequireDefault(require(\"./router\"));\n\nfunction isLocal(href) {\n  var url = (0, _url.parse)(href, false, true);\n  var origin = (0, _url.parse)((0, _utils.getLocationOrigin)(), false, true);\n  return !url.host || url.protocol === origin.protocol && url.host === origin.host;\n}\n\nfunction memoizedFormatUrl(formatFunc) {\n  var lastHref = null;\n  var lastAs = null;\n  var lastResult = null;\n  return function (href, as) {\n    if (lastResult && href === lastHref && as === lastAs) {\n      return lastResult;\n    }\n\n    var result = formatFunc(href, as);\n    lastHref = href;\n    lastAs = as;\n    lastResult = result;\n    return result;\n  };\n}\n\nfunction formatUrl(url) {\n  return url && typeof url === 'object' ? (0, _utils.formatWithValidation)(url) : url;\n}\n\nvar observer;\nvar listeners = new _Map();\nvar IntersectionObserver = true ? window.IntersectionObserver : null;\nvar prefetched = {};\n\nfunction getObserver() {\n  // Return shared instance of IntersectionObserver if already created\n  if (observer) {\n    return observer;\n  } // Only create shared IntersectionObserver if supported in browser\n\n\n  if (!IntersectionObserver) {\n    return undefined;\n  }\n\n  return observer = new IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      if (!listeners.has(entry.target)) {\n        return;\n      }\n\n      var cb = listeners.get(entry.target);\n\n      if (entry.isIntersecting || entry.intersectionRatio > 0) {\n        observer.unobserve(entry.target);\n        listeners[\"delete\"](entry.target);\n        cb();\n      }\n    });\n  }, {\n    rootMargin: '200px'\n  });\n}\n\nvar listenToIntersections = function listenToIntersections(el, cb) {\n  var observer = getObserver();\n\n  if (!observer) {\n    return function () {};\n  }\n\n  observer.observe(el);\n  listeners.set(el, cb);\n  return function () {\n    try {\n      observer.unobserve(el);\n    } catch (err) {\n      console.error(err);\n    }\n\n    listeners[\"delete\"](el);\n  };\n};\n\nvar Link =\n/*#__PURE__*/\nfunction (_react$Component) {\n  _inherits(Link, _react$Component);\n\n  function Link(props) {\n    var _this;\n\n    _classCallCheck(this, Link);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Link).call(this, props));\n    _this.p = void 0;\n\n    _this.cleanUpListeners = function () {};\n\n    _this.formatUrls = memoizedFormatUrl(function (href, asHref) {\n      return {\n        href: formatUrl(href),\n        as: asHref ? formatUrl(asHref) : asHref\n      };\n    });\n\n    _this.linkClicked = function (e) {\n      var _e$currentTarget = e.currentTarget,\n          nodeName = _e$currentTarget.nodeName,\n          target = _e$currentTarget.target;\n\n      if (nodeName === 'A' && (target && target !== '_self' || e.metaKey || e.ctrlKey || e.shiftKey || e.nativeEvent && e.nativeEvent.which === 2)) {\n        // ignore click for new tab / new window behavior\n        return;\n      }\n\n      var _this$formatUrls = _this.formatUrls(_this.props.href, _this.props.as),\n          href = _this$formatUrls.href,\n          as = _this$formatUrls.as;\n\n      if (!isLocal(href)) {\n        // ignore click if it's outside our scope (e.g. https://google.com)\n        return;\n      }\n\n      var pathname = window.location.pathname;\n      href = (0, _url.resolve)(pathname, href);\n      as = as ? (0, _url.resolve)(pathname, as) : href;\n      e.preventDefault(); //  avoid scroll for urls with anchor refs\n\n      var scroll = _this.props.scroll;\n\n      if (scroll == null) {\n        scroll = as.indexOf('#') < 0;\n      } // replace state instead of push if prop is present\n\n\n      _router[\"default\"][_this.props.replace ? 'replace' : 'push'](href, as, {\n        shallow: _this.props.shallow\n      }).then(function (success) {\n        if (!success) return;\n\n        if (scroll) {\n          window.scrollTo(0, 0);\n          document.body.focus();\n        }\n      });\n    };\n\n    if (true) {\n      if (props.prefetch) {\n        console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://err.sh/zeit/next.js/prefetch-true-deprecated');\n      }\n    }\n\n    _this.p = props.prefetch !== false;\n    return _this;\n  }\n\n  _createClass(Link, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cleanUpListeners();\n    }\n  }, {\n    key: \"getPaths\",\n    value: function getPaths() {\n      var pathname = window.location.pathname;\n\n      var _this$formatUrls2 = this.formatUrls(this.props.href, this.props.as),\n          parsedHref = _this$formatUrls2.href,\n          parsedAs = _this$formatUrls2.as;\n\n      var resolvedHref = (0, _url.resolve)(pathname, parsedHref);\n      return [resolvedHref, parsedAs ? (0, _url.resolve)(pathname, parsedAs) : resolvedHref];\n    }\n  }, {\n    key: \"handleRef\",\n    value: function handleRef(ref) {\n      var _this2 = this;\n\n      var isPrefetched = prefetched[this.getPaths()[0]];\n\n      if (this.p && IntersectionObserver && ref && ref.tagName) {\n        this.cleanUpListeners();\n\n        if (!isPrefetched) {\n          this.cleanUpListeners = listenToIntersections(ref, function () {\n            _this2.prefetch();\n          });\n        }\n      }\n    } // The function is memoized so that no extra lifecycles are needed\n    // as per https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\n\n  }, {\n    key: \"prefetch\",\n    value: function prefetch(options) {\n      if (!this.p || false) return; // Prefetch the JSON page if asked (only in the client)\n\n      var _this$getPaths = this.getPaths(),\n          _this$getPaths2 = _slicedToArray(_this$getPaths, 2),\n          href = _this$getPaths2[0],\n          asPath = _this$getPaths2[1];\n\n      _router[\"default\"].prefetch(href, asPath, options);\n\n      prefetched[href] = true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var children = this.props.children;\n\n      var _this$formatUrls3 = this.formatUrls(this.props.href, this.props.as),\n          href = _this$formatUrls3.href,\n          as = _this$formatUrls3.as; // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n\n\n      if (typeof children === 'string') {\n        children = _react[\"default\"].createElement(\"a\", null, children);\n      } // This will return the first child, if multiple are provided it will throw an error\n\n\n      var child = _react.Children.only(children);\n\n      var props = {\n        ref: function ref(el) {\n          _this3.handleRef(el);\n\n          if (child && typeof child === 'object' && child.ref) {\n            if (typeof child.ref === 'function') child.ref(el);else if (typeof child.ref === 'object') {\n              child.ref.current = el;\n            }\n          }\n        },\n        onMouseEnter: function onMouseEnter(e) {\n          if (child.props && typeof child.props.onMouseEnter === 'function') {\n            child.props.onMouseEnter(e);\n          }\n\n          _this3.prefetch({\n            priority: true\n          });\n        },\n        onClick: function onClick(e) {\n          if (child.props && typeof child.props.onClick === 'function') {\n            child.props.onClick(e);\n          }\n\n          if (!e.defaultPrevented) {\n            _this3.linkClicked(e);\n          }\n        }\n      }; // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n      // defined, we specify the current 'href', so that repetition is not needed by the user\n\n      if (this.props.passHref || child.type === 'a' && !('href' in child.props)) {\n        props.href = as || href;\n      } // Add the ending slash to the paths. So, we can serve the\n      // \"<page>/index.html\" directly.\n\n\n      if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n        var rewriteUrlForNextExport = require('../next-server/lib/router/rewrite-url-for-export').rewriteUrlForNextExport;\n\n        if (props.href && typeof __NEXT_DATA__ !== 'undefined' && __NEXT_DATA__.nextExport) {\n          props.href = rewriteUrlForNextExport(props.href);\n        }\n      }\n\n      return _react[\"default\"].cloneElement(child, props);\n    }\n  }]);\n\n  return Link;\n}(_react.Component);\n\nif (true) {\n  var warn = (0, _utils.execOnce)(console.error); // This module gets removed by webpack.IgnorePlugin\n\n  var PropTypes = require('prop-types');\n\n  var exact = require('prop-types-exact'); // @ts-ignore the property is supported, when declaring it on the class it outputs an extra bit of code which is not needed.\n\n\n  Link.propTypes = exact({\n    href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    as: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    prefetch: PropTypes.bool,\n    replace: PropTypes.bool,\n    shallow: PropTypes.bool,\n    passHref: PropTypes.bool,\n    scroll: PropTypes.bool,\n    children: PropTypes.oneOfType([PropTypes.element, function (props, propName) {\n      var value = props[propName];\n\n      if (typeof value === 'string') {\n        warn(\"Warning: You're using a string directly inside <Link>. This usage has been deprecated. Please add an <a> tag as child of <Link>\");\n      }\n\n      return null;\n    }]).isRequired\n  });\n}\n\nvar _default = Link;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/josh/Documents/GitHub/reactime-sandboxes/node_modules/next/dist/client/link.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","__esModule","_react","_url","_utils","_router","isLocal","href","url","parse","origin","getLocationOrigin","host","protocol","memoizedFormatUrl","formatFunc","lastHref","lastAs","lastResult","as","result","formatUrl","formatWithValidation","observer","listeners","IntersectionObserver","window","prefetched","getObserver","undefined","entries","forEach","entry","has","target","cb","get","isIntersecting","intersectionRatio","unobserve","rootMargin","listenToIntersections","el","observe","set","err","console","error","Link","props","p","cleanUpListeners","formatUrls","asHref","linkClicked","e","currentTarget","nodeName","metaKey","ctrlKey","shiftKey","nativeEvent","which","pathname","location","resolve","preventDefault","scroll","indexOf","replace","shallow","then","success","scrollTo","document","body","focus","prefetch","warn","parsedHref","parsedAs","resolvedHref","ref","isPrefetched","getPaths","tagName","options","asPath","children","createElement","child","Children","only","handleRef","current","onMouseEnter","priority","onClick","defaultPrevented","passHref","type","process","env","__NEXT_EXPORT_TRAILING_SLASH","rewriteUrlForNextExport","__NEXT_DATA__","nextExport","cloneElement","Component","execOnce","PropTypes","exact","propTypes","oneOfType","string","object","isRequired","bool","element","propName","value","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");exports.__esModule=true;exports.default=void 0;var _react=_interopRequireWildcard(require(\"react\"));var _url=require(\"url\");var _utils=require(\"../next-server/lib/utils\");var _router=_interopRequireDefault(require(\"./router\"));function isLocal(href){var url=(0,_url.parse)(href,false,true);var origin=(0,_url.parse)((0,_utils.getLocationOrigin)(),false,true);return!url.host||url.protocol===origin.protocol&&url.host===origin.host;}function memoizedFormatUrl(formatFunc){var lastHref=null;var lastAs=null;var lastResult=null;return(href,as)=>{if(lastResult&&href===lastHref&&as===lastAs){return lastResult;}var result=formatFunc(href,as);lastHref=href;lastAs=as;lastResult=result;return result;};}function formatUrl(url){return url&&typeof url==='object'?(0,_utils.formatWithValidation)(url):url;}var observer;var listeners=new Map();var IntersectionObserver=typeof window!=='undefined'?window.IntersectionObserver:null;var prefetched={};function getObserver(){// Return shared instance of IntersectionObserver if already created\nif(observer){return observer;}// Only create shared IntersectionObserver if supported in browser\nif(!IntersectionObserver){return undefined;}return observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(!listeners.has(entry.target)){return;}var cb=listeners.get(entry.target);if(entry.isIntersecting||entry.intersectionRatio>0){observer.unobserve(entry.target);listeners.delete(entry.target);cb();}});},{rootMargin:'200px'});}var listenToIntersections=(el,cb)=>{var observer=getObserver();if(!observer){return()=>{};}observer.observe(el);listeners.set(el,cb);return()=>{try{observer.unobserve(el);}catch(err){console.error(err);}listeners.delete(el);};};class Link extends _react.Component{constructor(props){super(props);this.p=void 0;this.cleanUpListeners=()=>{};this.formatUrls=memoizedFormatUrl((href,asHref)=>{return{href:formatUrl(href),as:asHref?formatUrl(asHref):asHref};});this.linkClicked=e=>{var{nodeName,target}=e.currentTarget;if(nodeName==='A'&&(target&&target!=='_self'||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&e.nativeEvent.which===2)){// ignore click for new tab / new window behavior\nreturn;}var{href,as}=this.formatUrls(this.props.href,this.props.as);if(!isLocal(href)){// ignore click if it's outside our scope (e.g. https://google.com)\nreturn;}var{pathname}=window.location;href=(0,_url.resolve)(pathname,href);as=as?(0,_url.resolve)(pathname,as):href;e.preventDefault();//  avoid scroll for urls with anchor refs\nvar{scroll}=this.props;if(scroll==null){scroll=as.indexOf('#')<0;}// replace state instead of push if prop is present\n_router.default[this.props.replace?'replace':'push'](href,as,{shallow:this.props.shallow}).then(success=>{if(!success)return;if(scroll){window.scrollTo(0,0);document.body.focus();}});};if(process.env.NODE_ENV!=='production'){if(props.prefetch){console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://err.sh/zeit/next.js/prefetch-true-deprecated');}}this.p=props.prefetch!==false;}componentWillUnmount(){this.cleanUpListeners();}getPaths(){var{pathname}=window.location;var{href:parsedHref,as:parsedAs}=this.formatUrls(this.props.href,this.props.as);var resolvedHref=(0,_url.resolve)(pathname,parsedHref);return[resolvedHref,parsedAs?(0,_url.resolve)(pathname,parsedAs):resolvedHref];}handleRef(ref){var isPrefetched=prefetched[this.getPaths()[0]];if(this.p&&IntersectionObserver&&ref&&ref.tagName){this.cleanUpListeners();if(!isPrefetched){this.cleanUpListeners=listenToIntersections(ref,()=>{this.prefetch();});}}}// The function is memoized so that no extra lifecycles are needed\n// as per https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\nprefetch(options){if(!this.p||typeof window==='undefined')return;// Prefetch the JSON page if asked (only in the client)\nvar[href,asPath]=this.getPaths();_router.default.prefetch(href,asPath,options);prefetched[href]=true;}render(){var{children}=this.props;var{href,as}=this.formatUrls(this.props.href,this.props.as);// Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\nif(typeof children==='string'){children=_react.default.createElement(\"a\",null,children);}// This will return the first child, if multiple are provided it will throw an error\nvar child=_react.Children.only(children);var props={ref:el=>{this.handleRef(el);if(child&&typeof child==='object'&&child.ref){if(typeof child.ref==='function')child.ref(el);else if(typeof child.ref==='object'){child.ref.current=el;}}},onMouseEnter:e=>{if(child.props&&typeof child.props.onMouseEnter==='function'){child.props.onMouseEnter(e);}this.prefetch({priority:true});},onClick:e=>{if(child.props&&typeof child.props.onClick==='function'){child.props.onClick(e);}if(!e.defaultPrevented){this.linkClicked(e);}}};// If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n// defined, we specify the current 'href', so that repetition is not needed by the user\nif(this.props.passHref||child.type==='a'&&!('href'in child.props)){props.href=as||href;}// Add the ending slash to the paths. So, we can serve the\n// \"<page>/index.html\" directly.\nif(process.env.__NEXT_EXPORT_TRAILING_SLASH){var rewriteUrlForNextExport=require('../next-server/lib/router/rewrite-url-for-export').rewriteUrlForNextExport;if(props.href&&typeof __NEXT_DATA__!=='undefined'&&__NEXT_DATA__.nextExport){props.href=rewriteUrlForNextExport(props.href);}}return _react.default.cloneElement(child,props);}}if(process.env.NODE_ENV==='development'){var warn=(0,_utils.execOnce)(console.error);// This module gets removed by webpack.IgnorePlugin\nvar PropTypes=require('prop-types');var exact=require('prop-types-exact');// @ts-ignore the property is supported, when declaring it on the class it outputs an extra bit of code which is not needed.\nLink.propTypes=exact({href:PropTypes.oneOfType([PropTypes.string,PropTypes.object]).isRequired,as:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),prefetch:PropTypes.bool,replace:PropTypes.bool,shallow:PropTypes.bool,passHref:PropTypes.bool,scroll:PropTypes.bool,children:PropTypes.oneOfType([PropTypes.element,(props,propName)=>{var value=props[propName];if(typeof value==='string'){warn(\"Warning: You're using a string directly inside <Link>. This usage has been deprecated. Please add an <a> tag as child of <Link>\");}return null;}]).isRequired});}var _default=Link;exports.default=_default;"]},"metadata":{},"sourceType":"script"}